{"version":3,"file":"index.modern.js","sources":["../src/types/public-types.ts","../src/helpers/date-helper.ts","../src/components/task-list/task-list-header.tsx","../src/components/task-list/task-list-table.tsx","../src/components/other/tooltip.tsx","../src/components/other/scroll.tsx","../src/components/task-list/task-list.tsx","../src/components/grid/grid-body.tsx","../src/components/grid/grid.tsx","../src/components/calendar/top-part-of-calendar.tsx","../src/components/calendar/calendar.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/helpers/bar-helper.ts","../src/components/bar/bar-display.tsx","../src/components/bar/bar-date-handle.tsx","../src/components/bar/bar-progress-handle.tsx","../src/components/bar/bar.tsx","../src/components/other/arrow.tsx","../src/helpers/other-helper.ts","../src/components/gantt/task-gantt-content.tsx","../src/components/gantt/task-gantt.tsx","../src/components/gantt/gantt.tsx"],"sourcesContent":["export enum ViewMode {\n  QuarterDay = \"Quarter Day\",\n  HalfDay = \"Half Day\",\n  Day = \"Day\",\n  /** ISO-8601 week */\n  Week = \"Week\",\n  Month = \"Month\",\n}\nexport interface Task {\n  id: string;\n  name: string;\n  start: Date;\n  end: Date;\n  /**\n   * From 0 to 100\n   */\n  progress: number;\n  styles?: {\n    backgroundColor?: string;\n    backgroundSelectedColor?: string;\n    progressColor?: string;\n    progressSelectedColor?: string;\n  };\n  isDisabled?: boolean;\n  dependencies?: string[];\n}\n\nexport interface EventOption {\n  /**\n   * Time step value for date changes.\n   */\n  timeStep?: number;\n  /**\n   * Invokes on bar select on unselect.\n   */\n  onSelect?: (task: Task, isSelected: boolean) => void;\n  /**\n   * Invokes on bar double click.\n   */\n  onDoubleClick?: (task: Task) => void;\n  /**\n   * Invokes on end and start time change. Chart undoes operation if method return false or error.\n   */\n  onDateChange?: (\n    task: Task\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on progress change. Chart undoes operation if method return false or error.\n   */\n  onProgressChange?: (\n    task: Task\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on delete selected task. Chart undoes operation if method return false or error.\n   */\n  onTaskDelete?: (\n    task: Task\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n}\n\nexport interface DisplayOption {\n  viewMode?: ViewMode;\n  /**\n   * Specifies the month name language. Able formats: ISO 639-2, Java Locale\n   */\n  locale?: string;\n}\n\nexport interface StylingOption {\n  headerHeight?: number;\n  columnWidth?: number;\n  listCellWidth?: string;\n  rowHeight?: number;\n  ganttHeight?: number;\n  barCornerRadius?: number;\n  handleWidth?: number;\n  fontFamily?: string;\n  fontSize?: string;\n  /**\n   * How many of row width can be taken by task.\n   * From 0 to 100\n   */\n  barFill?: number;\n  barProgressColor?: string;\n  barProgressSelectedColor?: string;\n  barBackgroundColor?: string;\n  barBackgroundSelectedColor?: string;\n  arrowColor?: string;\n  arrowIndent?: number;\n  todayColor?: string;\n  TooltipContent?: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n  TaskListHeader?: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable?: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    /**\n     * Sets selected task by id\n     */\n    setSelectedTask: (taskId: string) => void;\n  }>;\n}\n\nexport interface GanttProps extends EventOption, DisplayOption, StylingOption {\n  tasks: Task[];\n}\n","import { Task, ViewMode } from \"../types/public-types\";\n\ntype DateHelperScales =\n  | \"year\"\n  | \"month\"\n  | \"day\"\n  | \"hour\"\n  | \"minute\"\n  | \"second\"\n  | \"millisecond\";\n\nexport const addToDate = (\n  date: Date,\n  quantity: number,\n  scale: DateHelperScales\n) => {\n  const newDate = new Date(\n    date.getFullYear() + (scale === \"year\" ? quantity : 0),\n    date.getMonth() + (scale === \"month\" ? quantity : 0),\n    date.getDate() + (scale === \"day\" ? quantity : 0),\n    date.getHours() + (scale === \"hour\" ? quantity : 0),\n    date.getMinutes() + (scale === \"minute\" ? quantity : 0),\n    date.getSeconds() + (scale === \"second\" ? quantity : 0),\n    date.getMilliseconds() + (scale === \"millisecond\" ? quantity : 0)\n  );\n  return newDate;\n};\n\nexport const startOfDate = (date: Date, scale: DateHelperScales) => {\n  const scores = [\n    \"millisecond\",\n    \"second\",\n    \"minute\",\n    \"hour\",\n    \"day\",\n    \"month\",\n    \"year\",\n  ];\n\n  const shouldReset = (_scale: DateHelperScales) => {\n    const maxScore = scores.indexOf(scale);\n    return scores.indexOf(_scale) <= maxScore;\n  };\n  const newDate = new Date(\n    date.getFullYear(),\n    shouldReset(\"year\") ? 0 : date.getMonth(),\n    shouldReset(\"month\") ? 1 : date.getDate(),\n    shouldReset(\"day\") ? 0 : date.getHours(),\n    shouldReset(\"hour\") ? 0 : date.getMinutes(),\n    shouldReset(\"minute\") ? 0 : date.getSeconds(),\n    shouldReset(\"second\") ? 0 : date.getMilliseconds()\n  );\n  return newDate;\n};\n\nexport const ganttDateRange = (tasks: Task[], viewMode: ViewMode) => {\n  let newStartDate: Date = tasks[0].start;\n  let newEndDate: Date = tasks[0].end;\n  for (const task of tasks) {\n    if (task.start < newStartDate) {\n      newStartDate = task.start;\n    }\n    if (task.end > newEndDate) {\n      newEndDate = task.end;\n    }\n  }\n  switch (viewMode) {\n    case ViewMode.Month:\n      newStartDate = addToDate(newStartDate, -1, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Week:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newStartDate = addToDate(getMonday(newStartDate), -7, \"day\");\n      newEndDate = addToDate(newEndDate, 1.5, \"month\");\n      break;\n    default:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1, \"day\");\n      newEndDate = addToDate(newEndDate, 19, \"day\");\n      break;\n  }\n  return [newStartDate, newEndDate];\n};\n\nexport const seedDates = (\n  startDate: Date,\n  endDate: Date,\n  viewMode: ViewMode\n) => {\n  let currentDate: Date = new Date(startDate);\n  const dates: Date[] = [currentDate];\n  while (currentDate < endDate) {\n    switch (viewMode) {\n      case ViewMode.Month:\n        currentDate = addToDate(currentDate, 1, \"month\");\n        break;\n      case ViewMode.Week:\n        currentDate = addToDate(currentDate, 7, \"day\");\n        break;\n      case ViewMode.Day:\n        currentDate = addToDate(currentDate, 1, \"day\");\n        break;\n      case ViewMode.HalfDay:\n        currentDate = addToDate(currentDate, 12, \"hour\");\n        break;\n      case ViewMode.QuarterDay:\n        currentDate = addToDate(currentDate, 6, \"hour\");\n        break;\n    }\n    dates.push(currentDate);\n  }\n  return dates;\n};\n\nexport const getLocaleMonth = (date: Date, locale: string) => {\n  let bottomValue = new Intl.DateTimeFormat(locale, {\n    month: \"long\",\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\n/**\n * Returns monday of current week\n * @param date date for modify\n */\nconst getMonday = (date: Date) => {\n  const day = date.getDay();\n  const diff = date.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(date.setDate(diff));\n};\n\nexport const getWeekNumberISO8601 = (date: Date) => {\n  const tmpDate = new Date(date.valueOf());\n  const dayNumber = (tmpDate.getDay() + 6) % 7;\n  tmpDate.setDate(tmpDate.getDate() - dayNumber + 3);\n  const firstThursday = tmpDate.valueOf();\n  tmpDate.setMonth(0, 1);\n  if (tmpDate.getDay() !== 4) {\n    tmpDate.setMonth(0, 1 + ((4 - tmpDate.getDay() + 7) % 7));\n  }\n  const weekNumber = (\n    1 + Math.ceil((firstThursday - tmpDate.valueOf()) / 604800000)\n  ).toString();\n\n  if (weekNumber.length === 1) {\n    return `0${weekNumber}`;\n  } else {\n    return weekNumber;\n  }\n};\n","import React from \"react\";\nimport styles from \"./task-list-header.module.css\";\n\nexport const TaskListHeaderDefault: React.FC<{\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n}> = ({ headerHeight, fontFamily, fontSize, rowWidth }) => {\n  return (\n    <div\n      className={styles.ganttTable}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      <div\n        className={styles.ganttTable_Header}\n        style={{\n          height: headerHeight - 2,\n        }}\n      >\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;Name\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;From\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.25,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;To\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport styles from \"./task-list-table.module.css\";\nimport { Task } from \"../../types/public-types\";\n\nexport const TaskListTableDefault: React.FC<{\n  rowHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  locale: string;\n  tasks: Task[];\n  selectedTaskId: string;\n  setSelectedTask: (taskId: string) => void;\n}> = ({ rowHeight, rowWidth, tasks, fontFamily, fontSize, locale }) => {\n  const dateTimeOptions = {\n    weekday: \"short\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  };\n  return (\n    <div\n      className={styles.taskListWrapper}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      {tasks.map(t => {\n        return (\n          <div\n            className={styles.taskListTableRow}\n            style={{ height: rowHeight }}\n            key={`${t.id}row`}\n          >\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n              title={t.name}\n            >\n              &nbsp;{t.name}\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{t.start.toLocaleDateString(locale, dateTimeOptions)}\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{t.end.toLocaleDateString(locale, dateTimeOptions)}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport styles from \"./tooltip.module.css\";\n\nexport type TooltipProps = {\n  x: number;\n  svgHeight: number;\n  rowHeight: number;\n  task: BarTask;\n  fontSize: string;\n  fontFamily: string;\n  TooltipContent: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n};\nexport const Tooltip: React.FC<TooltipProps> = ({\n  x,\n  rowHeight,\n  svgHeight,\n  task,\n  fontSize,\n  fontFamily,\n  TooltipContent,\n}) => {\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n  const [toolWidth, setToolWidth] = useState(1000);\n  const [relatedY, setRelatedY] = useState((task.index - 1) * rowHeight);\n  useEffect(() => {\n    if (tooltipRef.current) {\n      const tooltipHeight = tooltipRef.current.offsetHeight;\n      const tooltipY = task.index * rowHeight + rowHeight;\n      if (tooltipHeight > tooltipY) {\n        setRelatedY(tooltipHeight * 0.5);\n      } else if (tooltipY + tooltipHeight > svgHeight) {\n        setRelatedY(svgHeight - tooltipHeight * 1.05);\n      }\n      setToolWidth(tooltipRef.current.scrollWidth * 1.1);\n    }\n  }, [tooltipRef, task]);\n  return (\n    <foreignObject x={x} y={relatedY} width={toolWidth} height={1000}>\n      <div ref={tooltipRef} className={styles.tooltipDetailsContainer}>\n        <TooltipContent\n          task={task}\n          fontSize={fontSize}\n          fontFamily={fontFamily}\n        />\n      </div>\n    </foreignObject>\n  );\n};\n\nexport const StandardTooltipContent: React.FC<{\n  task: Task;\n  fontSize: string;\n  fontFamily: string;\n}> = ({ task, fontSize, fontFamily }) => {\n  const style = {\n    fontSize,\n    fontFamily,\n  };\n  return (\n    <div className={styles.tooltipDefaultContainer} style={style}>\n      <b style={{ fontSize: fontSize + 6 }}>{`${\n        task.name\n      }: ${task.start.getDate()}-${\n        task.start.getMonth() + 1\n      }-${task.start.getFullYear()} - ${task.end.getDate()}-${\n        task.end.getMonth() + 1\n      }-${task.end.getFullYear()}`}</b>\n      <p className={styles.tooltipDefaultContainerParagraph}>{`Duration: ${~~(\n        (task.end.getTime() - task.start.getTime()) /\n        (1000 * 60 * 60 * 24)\n      )} day(s)`}</p>\n      <p className={styles.tooltipDefaultContainerParagraph}>\n        {!!task.progress && `Progress: ${task.progress} %`}\n      </p>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./scroll.module.css\";\n\nexport const Scroll: React.FC<{\n  scroll: number;\n  ganttHeight: number;\n  ganttFullHeight: number;\n  headerHeight: number;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({ scroll, ganttHeight, ganttFullHeight, headerHeight, onScroll }) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      style={{ height: ganttHeight, marginTop: headerHeight }}\n      className={styles.scroll}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ height: ganttFullHeight, width: 1 }} />\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { Task } from \"../../types/public-types\";\n\nexport type TaskListProps = {\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  rowHeight: number;\n  ganttHeight: number;\n  scrollY: number;\n  locale: string;\n  tasks: Task[];\n  horizontalContainerClass?: string;\n  selectedTaskId: string;\n  setSelectedTask: (taskId: string) => void;\n  TaskListHeader: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    setSelectedTask: (taskId: string) => void;\n  }>;\n};\n\nexport const TaskList: React.FC<TaskListProps> = ({\n  headerHeight,\n  fontFamily,\n  fontSize,\n  rowWidth,\n  rowHeight,\n  scrollY,\n  tasks,\n  selectedTaskId,\n  setSelectedTask,\n  locale,\n  ganttHeight,\n  horizontalContainerClass,\n  TaskListHeader,\n  TaskListTable,\n}) => {\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  const headerProps = {\n    headerHeight,\n    fontFamily,\n    fontSize,\n    rowWidth,\n  };\n  const tableProps = {\n    rowHeight,\n    rowWidth,\n    fontFamily,\n    fontSize,\n    tasks,\n    locale,\n    selectedTaskId,\n    setSelectedTask,\n  };\n\n  return (\n    <div>\n      <TaskListHeader {...headerProps} />\n      <div\n        ref={horizontalContainerRef}\n        className={horizontalContainerClass}\n        style={ganttHeight ? { height: ganttHeight } : {}}\n      >\n        <TaskListTable {...tableProps} />\n      </div>\n    </div>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { addToDate } from \"../../helpers/date-helper\";\nimport styles from \"./grid.module.css\";\n\nexport type GridBodyProps = {\n  tasks: Task[];\n  dates: Date[];\n  gridWidth: number;\n  rowHeight: number;\n  columnWidth: number;\n  todayColor: string;\n};\nexport const GridBody: React.FC<GridBodyProps> = ({\n  tasks,\n  dates,\n  rowHeight,\n  gridWidth,\n  columnWidth,\n  todayColor,\n}) => {\n  let y = 0;\n  const gridRows: ReactChild[] = [];\n  const rowLines: ReactChild[] = [\n    <line\n      key=\"RowLineFirst\"\n      x=\"0\"\n      y1={0}\n      x2={gridWidth}\n      y2={0}\n      className={styles.gridRowLine}\n    />,\n  ];\n  for (const task of tasks) {\n    gridRows.push(\n      <rect\n        key={\"Row\" + task.id}\n        x=\"0\"\n        y={y}\n        width={gridWidth}\n        height={rowHeight}\n        className={styles.gridRow}\n      />\n    );\n    rowLines.push(\n      <line\n        key={\"RowLine\" + task.id}\n        x=\"0\"\n        y1={y + rowHeight}\n        x2={gridWidth}\n        y2={y + rowHeight}\n        className={styles.gridRowLine}\n      />\n    );\n    y += rowHeight;\n  }\n\n  const now = new Date();\n  let tickX = 0;\n  const ticks: ReactChild[] = [];\n  let today: ReactChild = <rect />;\n  for (let i = 0; i < dates.length; i++) {\n    const date = dates[i];\n    ticks.push(\n      <line\n        key={date.getTime()}\n        x1={tickX}\n        y1={0}\n        x2={tickX}\n        y2={y}\n        className={styles.gridTick}\n      />\n    );\n    if (\n      (i + 1 !== dates.length &&\n        date.getTime() < now.getTime() &&\n        dates[i + 1].getTime() >= now.getTime()) ||\n      // if current date is last\n      (i !== 0 &&\n        i + 1 === dates.length &&\n        date.getTime() < now.getTime() &&\n        addToDate(\n          date,\n          date.getTime() - dates[i - 1].getTime(),\n          \"millisecond\"\n        ).getTime() >= now.getTime())\n    ) {\n      today = (\n        <rect\n          x={tickX}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    tickX += columnWidth;\n  }\n  return (\n    <g className=\"gridBody\">\n      <g className=\"rows\">{gridRows}</g>\n      <g className=\"rowLines\">{rowLines}</g>\n      <g className=\"ticks\">{ticks}</g>\n      <g className=\"today\">{today}</g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { GridBody, GridBodyProps } from \"./grid-body\";\n\nexport type GridProps = GridBodyProps;\nexport const Grid: React.FC<GridProps> = props => {\n  return (\n    <g className=\"grid\">\n      <GridBody {...props} />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./calendar.module.css\";\n\ntype TopPartOfCalendarProps = {\n  value: string;\n  x1Line: number;\n  y1Line: number;\n  y2Line: number;\n  xText: number;\n  yText: number;\n};\n\nexport const TopPartOfCalendar: React.FC<TopPartOfCalendarProps> = ({\n  value,\n  x1Line,\n  y1Line,\n  y2Line,\n  xText,\n  yText,\n}) => {\n  return (\n    <g className=\"calendarTop\">\n      <line\n        x1={x1Line}\n        y1={y1Line}\n        x2={x1Line}\n        y2={y2Line}\n        className={styles.calendarTopTick}\n        key={value + \"line\"}\n      />\n      <text\n        key={value + \"text\"}\n        y={yText}\n        x={xText}\n        className={styles.calendarTopText}\n      >\n        {value}\n      </text>\n    </g>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { ViewMode } from \"../../types/public-types\";\nimport { TopPartOfCalendar } from \"./top-part-of-calendar\";\nimport {\n  getLocaleMonth,\n  getWeekNumberISO8601,\n} from \"../../helpers/date-helper\";\nimport styles from \"./calendar.module.css\";\n\nexport type CalendarProps = {\n  dates: Date[];\n  locale: string;\n  viewMode: ViewMode;\n  headerHeight: number;\n  columnWidth: number;\n  fontFamily: string;\n  fontSize: string;\n};\n\nexport const Calendar: React.FC<CalendarProps> = ({\n  dates,\n  locale,\n  viewMode,\n  headerHeight,\n  columnWidth,\n  fontFamily,\n  fontSize,\n}) => {\n  const getCalendarValuesForMonth = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultWidth = columnWidth * 6;\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getLocaleMonth(date, locale);\n      bottomValues.push(\n        <text\n          key={bottomValue + date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i === 0 || date.getFullYear() !== dates[i - 1].getFullYear()) {\n        const topValue = date.getFullYear().toString();\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={\n              topDefaultWidth + columnWidth * i - date.getMonth() * columnWidth\n            }\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForWeek = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    let weeksCount: number = 1;\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = dates.length - 1; i >= 0; i--) {\n      const date = dates[i];\n      let topValue = \"\";\n      if (i === 0 || date.getMonth() !== dates[i - 1].getMonth()) {\n        // top\n        topValue = `${getLocaleMonth(date, locale)}, ${date.getFullYear()}`;\n      }\n      // bottom\n      const bottomValue = `W${getWeekNumberISO8601(date)}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n\n      if (topValue) {\n        // if last day is new month\n        if (i !== dates.length - 1) {\n          topValues.push(\n            <TopPartOfCalendar\n              key={topValue}\n              value={topValue}\n              x1Line={columnWidth * i + weeksCount * columnWidth}\n              y1Line={0}\n              y2Line={topDefaultHeight}\n              xText={columnWidth * i + columnWidth * weeksCount * 0.5}\n              yText={topDefaultHeight * 0.9}\n            />\n          );\n        }\n        weeksCount = 0;\n      }\n      weeksCount++;\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = date.getDate().toString();\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i + 1 !== dates.length &&\n        date.getMonth() !== dates[i + 1].getMonth()\n      ) {\n        const topValue = getLocaleMonth(date, locale);\n\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * (i + 1)}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * (i + 1) - date.getDate() * columnWidth * 0.5}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForOther = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const ticks = viewMode === ViewMode.HalfDay ? 2 : 4;\n    const topDefaultHeight = headerHeight * 0.5;\n\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = Intl.DateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i === 0 || date.getDate() !== dates[i - 1].getDate()) {\n        const topValue = `${date.getDate()} ${getLocaleMonth(date, locale)}`;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i + ticks * columnWidth}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * i + ticks * columnWidth * 0.5}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n  let topValues: ReactChild[] = [];\n  let bottomValues: ReactChild[] = [];\n  switch (viewMode) {\n    case ViewMode.Month:\n      [topValues, bottomValues] = getCalendarValuesForMonth();\n      break;\n    case ViewMode.Week:\n      [topValues, bottomValues] = getCalendarValuesForWeek();\n      break;\n    case ViewMode.Day:\n      [topValues, bottomValues] = getCalendarValuesForDay();\n      break;\n    default:\n      [topValues, bottomValues] = getCalendarValuesForOther();\n      break;\n  }\n  return (\n    <g className=\"calendar\" fontSize={fontSize} fontFamily={fontFamily}>\n      <rect\n        x={0}\n        y={0}\n        width={columnWidth * dates.length}\n        height={headerHeight}\n        className={styles.calendarHeader}\n      />\n      {bottomValues} {topValues}\n    </g>\n  );\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import { Task } from \"../types/public-types\";\nimport { BarTask } from \"../types/bar-task\";\n\nexport const convertToBarTasks = (\n  tasks: Task[],\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  barFill: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string\n) => {\n  const dateDelta =\n    dates[1].getTime() -\n    dates[0].getTime() -\n    dates[1].getTimezoneOffset() * 60 * 1000 +\n    dates[0].getTimezoneOffset() * 60 * 1000;\n  const taskHeight = (rowHeight * barFill) / 100;\n\n  let barTasks = tasks.map((t, i) => {\n    return convertToBarTask(\n      t,\n      i,\n      dates,\n      dateDelta,\n      columnWidth,\n      rowHeight,\n      taskHeight,\n      barCornerRadius,\n      handleWidth,\n      barProgressColor,\n      barProgressSelectedColor,\n      barBackgroundColor,\n      barBackgroundSelectedColor\n    );\n  });\n\n  // set dependencies\n  barTasks = barTasks.map((task, i) => {\n    const dependencies = task.dependencies || [];\n    for (let j = 0; j < dependencies.length; j++) {\n      const dependence = barTasks.findIndex(\n        value => value.id === dependencies[j]\n      );\n      if (dependence !== -1) barTasks[dependence].barChildren.push(i);\n    }\n    return task;\n  });\n\n  return barTasks;\n};\n\nexport const convertToBarTask = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  dateDelta: number,\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string\n): BarTask => {\n  const x1 = taskXCoordinate(task.start, dates, dateDelta, columnWidth);\n  const x2 = taskXCoordinate(task.end, dates, dateDelta, columnWidth);\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n\n  const styles = {\n    backgroundColor: barBackgroundColor,\n    backgroundSelectedColor: barBackgroundSelectedColor,\n    progressColor: barProgressColor,\n    progressSelectedColor: barProgressSelectedColor,\n    ...task.styles,\n  };\n  return {\n    ...task,\n    x1,\n    x2,\n    y,\n    index,\n    barCornerRadius,\n    handleWidth,\n    height: taskHeight,\n    barChildren: [],\n    styles,\n  };\n};\n\nexport const taskXCoordinate = (\n  xDate: Date,\n  dates: Date[],\n  dateDelta: number,\n  columnWidth: number\n) => {\n  const index = ~~(\n    (xDate.getTime() -\n      dates[0].getTime() +\n      xDate.getTimezoneOffset() -\n      dates[0].getTimezoneOffset()) /\n    dateDelta\n  );\n  const x = Math.round(\n    (index +\n      (xDate.getTime() -\n        dates[index].getTime() -\n        xDate.getTimezoneOffset() * 60 * 1000 +\n        dates[index].getTimezoneOffset() * 60 * 1000) /\n        dateDelta) *\n      columnWidth\n  );\n  return x;\n};\n\nexport const taskYCoordinate = (\n  index: number,\n  rowHeight: number,\n  taskHeight: number\n) => {\n  const y = index * rowHeight + (rowHeight - taskHeight) / 2;\n  return y;\n};\n\nexport const progressWithByParams = (\n  taskX1: number,\n  taskX2: number,\n  progress: number\n) => {\n  return (taskX2 - taskX1) * progress * 0.01;\n};\n\nexport const progressByProgressWidth = (\n  progressWidth: number,\n  barTask: BarTask\n) => {\n  const barWidth = barTask.x2 - barTask.x1;\n  const progressPercent = Math.round((progressWidth * 100) / barWidth);\n  if (progressPercent >= 100) return 100;\n  else if (progressPercent <= 0) return 0;\n  else {\n    return progressPercent;\n  }\n};\n\nexport const progressByX = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 100;\n  else if (x <= task.x1) return 0;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((x - task.x1) * 100) / barWidth);\n    return progressPercent;\n  }\n};\n\nexport const getProgressPoint = (\n  progressX: number,\n  taskY: number,\n  taskHeight: number\n) => {\n  const point = [\n    progressX - 5,\n    taskY + taskHeight,\n    progressX + 5,\n    taskY + taskHeight,\n    progressX,\n    taskY + taskHeight - 8.66,\n  ];\n  return point.join(\",\");\n};\n\nexport const startByX = (x: number, xStep: number, task: BarTask) => {\n  if (x >= task.x2 - task.handleWidth * 2) {\n    x = task.x2 - task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x1 + additionalXValue;\n  return newX;\n};\n\nexport const endByX = (x: number, xStep: number, task: BarTask) => {\n  if (x <= task.x1 + task.handleWidth * 2) {\n    x = task.x1 + task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x2) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x2 + additionalXValue;\n  return newX;\n};\n\nexport const moveByX = (x: number, xStep: number, task: BarTask) => {\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX1 = task.x1 + additionalXValue;\n  const newX2 = newX1 + task.x2 - task.x1;\n  return [newX1, newX2];\n};\n\nexport const dateByX = (\n  x: number,\n  taskX: number,\n  taskDate: Date,\n  xStep: number,\n  timeStep: number\n) => {\n  let newDate = new Date(((x - taskX) / xStep) * timeStep + taskDate.getTime());\n  newDate = new Date(\n    newDate.getTime() +\n      (newDate.getTimezoneOffset() - taskDate.getTimezoneOffset()) * 60000\n  );\n  return newDate;\n};\n\nexport type BarMoveAction = \"progress\" | \"end\" | \"start\" | \"move\" | \"\";\n\n/**\n * Method handles event in real time(mousemove) and on finish(mouseup)\n */\nexport const handleTaskBySVGMouseEvent = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number\n) => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"progress\":\n      changedTask.progress = progressByX(svgX, selectedTask);\n      isChanged = changedTask.progress !== selectedTask.progress;\n      break;\n    case \"start\": {\n      const newX1 = startByX(svgX, xStep, selectedTask);\n      changedTask.x1 = newX1;\n      isChanged = changedTask.x1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n      }\n      break;\n    }\n    case \"end\": {\n      const newX2 = endByX(svgX, xStep, selectedTask);\n      changedTask.x2 = newX2;\n      isChanged = changedTask.x2 !== selectedTask.x2;\n      if (isChanged) {\n        changedTask.end = dateByX(\n          newX2,\n          selectedTask.x2,\n          selectedTask.end,\n          xStep,\n          timeStep\n        );\n      }\n      break;\n    }\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = dateByX(\n          newMoveX2,\n          selectedTask.x2,\n          selectedTask.end,\n          xStep,\n          timeStep\n        );\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n","import React, { useRef, useState, useEffect } from \"react\";\nimport style from \"./bar.module.css\";\n\ntype BarDisplayProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  isSelected: boolean;\n  progressWidth: number;\n  barCornerRadius: number;\n  text: string;\n  hasChild: boolean;\n  arrowIndent: number;\n  styles: {\n    backgroundColor: string;\n    backgroundSelectedColor: string;\n    progressColor: string;\n    progressSelectedColor: string;\n  };\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarDisplay: React.FC<BarDisplayProps> = ({\n  x,\n  y,\n  width,\n  height,\n  isSelected,\n  progressWidth,\n  barCornerRadius,\n  text,\n  hasChild,\n  arrowIndent,\n  styles,\n  onMouseDown,\n}) => {\n  const textRef = useRef<SVGTextElement>(null);\n  const [isTextInside, setIsTextInside] = useState(true);\n\n  useEffect(() => {\n    if (textRef.current)\n      setIsTextInside(textRef.current.getBBox().width < width);\n  }, [textRef, width]);\n\n  const getProcessColor = () => {\n    return isSelected ? styles.progressSelectedColor : styles.progressColor;\n  };\n\n  const getBarColor = () => {\n    return isSelected ? styles.backgroundSelectedColor : styles.backgroundColor;\n  };\n\n  const getX = () => {\n    return isTextInside\n      ? x + width * 0.5\n      : x + width + arrowIndent * +hasChild + arrowIndent * 0.2;\n  };\n\n  return (\n    <g onMouseDown={onMouseDown}>\n      <rect\n        x={x}\n        width={width}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getBarColor()}\n        className={style.barBackground}\n      />\n      <rect\n        x={x}\n        width={progressWidth}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getProcessColor()}\n      />\n      <text\n        x={getX()}\n        y={y + height * 0.5}\n        className={\n          isTextInside\n            ? style.barLabel\n            : style.barLabel && style.barLabelOutside\n        }\n        ref={textRef}\n      >\n        {text}\n      </text>\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarDateHandleProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  barCornerRadius: number;\n  onMouseDown: (event: React.MouseEvent<SVGRectElement, MouseEvent>) => void;\n};\nexport const BarDateHandle: React.FC<BarDateHandleProps> = ({\n  x,\n  y,\n  width,\n  height,\n  barCornerRadius,\n  onMouseDown,\n}) => {\n  return (\n    <rect\n      x={x}\n      y={y}\n      width={width}\n      height={height}\n      className={styles.barHandle}\n      ry={barCornerRadius}\n      rx={barCornerRadius}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarProgressHandleProps = {\n  progressPoint: string;\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarProgressHandle: React.FC<BarProgressHandleProps> = ({\n  progressPoint,\n  onMouseDown,\n}) => {\n  return (\n    <polygon\n      className={styles.barHandle}\n      points={progressPoint}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport {\n  progressWithByParams,\n  getProgressPoint,\n} from \"../../helpers/bar-helper\";\nimport styles from \"./bar.module.css\";\nimport { GanttContentMoveAction } from \"../gantt/task-gantt-content\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarDateHandle } from \"./bar-date-handle\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\n\nexport type BarProps = {\n  task: BarTask;\n  arrowIndent: number;\n  isProgressChangeable: boolean;\n  isDateChangeable: boolean;\n  isDelete: boolean;\n  isSelected: boolean;\n  onEventStart: (\n    action: GanttContentMoveAction,\n    selectedTask: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => any;\n};\n\nexport const Bar: React.FC<BarProps> = ({\n  task,\n  arrowIndent,\n  isProgressChangeable,\n  isDateChangeable,\n  onEventStart,\n  isDelete,\n  isSelected,\n}) => {\n  const progressWidth = progressWithByParams(task.x1, task.x2, task.progress);\n  const progressPoint = getProgressPoint(\n    progressWidth + task.x1,\n    task.y,\n    task.height\n  );\n\n  return (\n    <g\n      className={styles.barWrapper}\n      tabIndex={0}\n      onKeyDown={e => {\n        switch (e.key) {\n          case \"Delete\": {\n            if (isDelete) onEventStart(\"delete\", task, e);\n            break;\n          }\n        }\n        e.stopPropagation();\n      }}\n      onMouseEnter={e => {\n        onEventStart(\"mouseenter\", task, e);\n      }}\n      onMouseLeave={e => {\n        onEventStart(\"mouseleave\", task, e);\n      }}\n      onDoubleClick={e => {\n        onEventStart(\"dblclick\", task, e);\n      }}\n      onFocus={() => {\n        onEventStart(\"select\", task);\n      }}\n    >\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressWidth={progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        text={task.name}\n        hasChild={task.barChildren.length > 0}\n        arrowIndent={arrowIndent}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isDateChangeable && (\n          <g>\n            {/* left */}\n            <BarDateHandle\n              x={task.x1 + 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={task.height - 2}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"start\", task, e);\n              }}\n            />\n            {/* right */}\n            <BarDateHandle\n              x={task.x2 - task.handleWidth - 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={task.height - 2}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"end\", task, e);\n              }}\n            />\n          </g>\n        )}\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\n\ntype ArrowProps = {\n  taskFrom: BarTask;\n  taskTo: BarTask;\n  rowHeight: number;\n  arrowIndent: number;\n};\nexport const Arrow: React.FC<ArrowProps> = ({\n  taskFrom,\n  taskTo,\n  rowHeight,\n  arrowIndent,\n}) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskTo.height / 2;\n\n  const path = `M ${taskFrom.x2} ${taskFrom.y + taskFrom.height / 2} \n  h ${arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  H ${taskTo.x1 - arrowIndent} \n  V ${taskToEndPosition} \n  h ${arrowIndent}`;\n  const trianglePoints = `${taskTo.x1},${taskToEndPosition} \n  ${taskTo.x1 - 5},${taskToEndPosition - 5} \n  ${taskTo.x1 - 5},${taskToEndPosition + 5}`;\n  return (\n    <g className=\"arrow\">\n      <path strokeWidth=\"1.5\" d={path} fill=\"none\" />\n      <polygon points={trianglePoints} />\n    </g>\n  );\n};\n","import { BarTask } from \"../types/bar-task\";\nimport { Task } from \"../types/public-types\";\n\nexport function isKeyboardEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.KeyboardEvent {\n  return (event as React.KeyboardEvent).key !== undefined;\n}\n\nexport function isMouseEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.MouseEvent {\n  return (event as React.MouseEvent).clientX !== undefined;\n}\n\nexport function isBarTask(task: Task | BarTask): task is BarTask {\n  return (task as BarTask).x1 !== undefined;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Task, EventOption } from \"../../types/public-types\";\nimport { Bar } from \"../bar/bar\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Arrow } from \"../other/arrow\";\nimport {\n  convertToBarTasks,\n  handleTaskBySVGMouseEvent,\n  BarMoveAction,\n} from \"../../helpers/bar-helper\";\nimport { Tooltip } from \"../other/tooltip\";\nimport { isKeyboardEvent } from \"../../helpers/other-helper\";\n\nexport type GanttContentMoveAction =\n  | \"mouseenter\"\n  | \"mouseleave\"\n  | \"delete\"\n  | \"dblclick\"\n  | \"select\"\n  | BarMoveAction;\nexport type BarEvent = {\n  changedTask?: BarTask;\n  originalTask?: BarTask;\n  action: GanttContentMoveAction;\n};\nexport type TaskGanttContentProps = {\n  tasks: Task[];\n  dates: Date[];\n  selectedTask: string;\n  rowHeight: number;\n  barCornerRadius: number;\n  columnWidth: number;\n  barFill: number;\n  barProgressColor: string;\n  barProgressSelectedColor: string;\n  barBackgroundColor: string;\n  barBackgroundSelectedColor: string;\n  handleWidth: number;\n  timeStep: number;\n  svg?: React.RefObject<SVGSVGElement>;\n  svgHeight: number;\n  arrowColor: string;\n  arrowIndent: number;\n  fontSize: string;\n  fontFamily: string;\n  setSelectedTask: (taskId: string) => void;\n  TooltipContent: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n  onTasksChange: (tasks: Task[]) => void;\n} & EventOption;\n\nexport const TaskGanttContent: React.FC<TaskGanttContentProps> = ({\n  tasks,\n  dates,\n  selectedTask,\n  rowHeight,\n  barCornerRadius,\n  columnWidth,\n  barFill,\n  barProgressColor,\n  barProgressSelectedColor,\n  barBackgroundColor,\n  barBackgroundSelectedColor,\n  handleWidth,\n  timeStep,\n  svg,\n  svgHeight,\n  arrowColor,\n  arrowIndent,\n  fontFamily,\n  fontSize,\n  setSelectedTask,\n  onTasksChange,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onTaskDelete,\n  TooltipContent,\n}) => {\n  const point = svg?.current?.createSVGPoint();\n  const [barEvent, setBarEvent] = useState<BarEvent>({\n    action: \"\",\n  });\n  const [barTasks, setBarTasks] = useState<BarTask[]>([]);\n  const [failedTask, setFailedTask] = useState<BarTask | null>(null);\n  const [xStep, setXStep] = useState(0);\n  const [initEventX1Delta, setInitEventX1Delta] = useState(0);\n  const [isMoving, setIsMoving] = useState(false);\n\n  // create xStep\n  useEffect(() => {\n    const dateDelta =\n      dates[1].getTime() -\n      dates[0].getTime() -\n      dates[1].getTimezoneOffset() * 60 * 1000 +\n      dates[0].getTimezoneOffset() * 60 * 1000;\n    const newXStep = (timeStep * columnWidth) / dateDelta;\n    setXStep(newXStep);\n  }, [columnWidth, dates, timeStep]);\n\n  // generate tasks\n  useEffect(() => {\n    setBarTasks(\n      convertToBarTasks(\n        tasks,\n        dates,\n        columnWidth,\n        rowHeight,\n        barFill,\n        barCornerRadius,\n        handleWidth,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor\n      )\n    );\n  }, [\n    tasks,\n    rowHeight,\n    barCornerRadius,\n    columnWidth,\n    dates,\n    barFill,\n    handleWidth,\n    barProgressColor,\n    barProgressSelectedColor,\n    barBackgroundColor,\n    barBackgroundSelectedColor,\n  ]);\n\n  // on failed task update\n  useEffect(() => {\n    if (failedTask) {\n      const newTasks = barTasks.map(t =>\n        t.id === failedTask.id ? failedTask : t\n      );\n      onTasksChange(newTasks);\n      setFailedTask(null);\n    }\n  }, [failedTask, barTasks]);\n\n  useEffect(() => {\n    const handleMouseMove = async (event: MouseEvent) => {\n      if (!barEvent.changedTask || !point || !svg?.current) return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n\n      const { isChanged, changedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        barEvent.action as BarMoveAction,\n        barEvent.changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta\n      );\n      if (isChanged) {\n        setBarTasks(\n          barTasks.map(t => (t.id === changedTask.id ? changedTask : t))\n        );\n        setBarEvent({ ...barEvent, changedTask: changedTask });\n      }\n    };\n\n    const handleMouseUp = async (event: MouseEvent) => {\n      const { changedTask: selectedTask, action, originalTask } = barEvent;\n\n      if (!selectedTask || !point || !svg?.current || !originalTask) return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n\n      const { changedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        action as BarMoveAction,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta\n      );\n\n      const isNotLikeOriginal =\n        originalTask.start !== changedTask.start ||\n        originalTask.end !== changedTask.end ||\n        originalTask.progress !== changedTask.progress;\n\n      // remove listeners\n      svg.current.removeEventListener(\"mousemove\", handleMouseMove);\n      svg.current.removeEventListener(\"mouseup\", handleMouseUp);\n      setBarEvent({ action: \"\" });\n      setIsMoving(false);\n      const newTasks = barTasks.map(t =>\n        t.id === changedTask.id ? changedTask : t\n      );\n      onTasksChange(newTasks);\n\n      // custom operation start\n      let operationSuccess = true;\n      if (\n        (action === \"move\" || action === \"end\" || action === \"start\") &&\n        onDateChange &&\n        isNotLikeOriginal\n      ) {\n        try {\n          const result = await onDateChange(changedTask);\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      } else if (onProgressChange && isNotLikeOriginal) {\n        try {\n          const result = await onProgressChange(changedTask);\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      }\n\n      // If operation is failed - return old state\n      if (!operationSuccess) {\n        setFailedTask(originalTask);\n      }\n    };\n\n    if (\n      !isMoving &&\n      (barEvent.action === \"move\" ||\n        barEvent.action === \"end\" ||\n        barEvent.action === \"start\" ||\n        barEvent.action === \"progress\") &&\n      svg?.current\n    ) {\n      svg.current.addEventListener(\"mousemove\", handleMouseMove);\n      svg.current.addEventListener(\"mouseup\", handleMouseUp);\n      setIsMoving(true);\n    }\n  }, [\n    barTasks,\n    barEvent,\n    xStep,\n    initEventX1Delta,\n    onProgressChange,\n    timeStep,\n    onDateChange,\n    svg,\n    isMoving,\n  ]);\n\n  /**\n   * Method is Start point of task change\n   */\n  const handleBarEventStart = async (\n    action: GanttContentMoveAction,\n    task: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => {\n    if (!event) {\n      if (action === \"select\") {\n        setSelectedTask(task.id);\n      }\n    }\n    // Keyboard events\n    else if (isKeyboardEvent(event)) {\n      if (action === \"delete\") {\n        if (onTaskDelete) {\n          try {\n            const result = await onTaskDelete(task);\n            if (result !== undefined && result) {\n              const newTasks = barTasks.filter(t => t.id !== task.id);\n              onTasksChange(newTasks);\n              setSelectedTask(\"\");\n            }\n          } catch (error) {\n            console.error(\"Error on Delete. \" + error);\n          }\n        }\n      }\n    }\n    // Mouse Events\n    else if (action === \"mouseenter\") {\n      if (!barEvent.action) {\n        setBarEvent({\n          action,\n          changedTask: task,\n          originalTask: task,\n        });\n      }\n    } else if (action === \"mouseleave\") {\n      if (barEvent.action === \"mouseenter\") {\n        setBarEvent({ action: \"\" });\n      }\n    } else if (action === \"dblclick\") {\n      !!onDoubleClick && onDoubleClick(task);\n    }\n    // Change task event start\n    else if (action === \"move\") {\n      if (!svg?.current || !point) return;\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg.current.getScreenCTM()?.inverse()\n      );\n      setInitEventX1Delta(cursor.x - task.x1);\n      setBarEvent({\n        action,\n        changedTask: task,\n        originalTask: task,\n      });\n    } else {\n      setBarEvent({\n        action,\n        changedTask: task,\n        originalTask: task,\n      });\n    }\n  };\n\n  return (\n    <g className=\"content\">\n      <g className=\"arrows\" fill={arrowColor} stroke={arrowColor}>\n        {barTasks.map(task => {\n          return task.barChildren.map(child => {\n            return (\n              <Arrow\n                key={`Arrow from ${task.id} to ${barTasks[child].id}`}\n                taskFrom={task}\n                taskTo={barTasks[child]}\n                rowHeight={rowHeight}\n                arrowIndent={arrowIndent}\n              />\n            );\n          });\n        })}\n      </g>\n      <g className=\"bar\" fontFamily={fontFamily} fontSize={fontSize}>\n        {barTasks.map(task => {\n          return (\n            <Bar\n              task={task}\n              arrowIndent={arrowIndent}\n              isProgressChangeable={!!onProgressChange && !task.isDisabled}\n              isDateChangeable={!!onDateChange && !task.isDisabled}\n              isDelete={!task.isDisabled}\n              onEventStart={handleBarEventStart}\n              key={task.id}\n              isSelected={task.id === selectedTask}\n            />\n          );\n        })}\n      </g>\n      <g className=\"toolTip\">\n        {barEvent.changedTask && (\n          <Tooltip\n            x={barEvent.changedTask.x2 + arrowIndent + arrowIndent * 0.5}\n            rowHeight={rowHeight}\n            svgHeight={svgHeight}\n            task={barEvent.changedTask}\n            fontFamily={fontFamily}\n            fontSize={fontSize}\n            TooltipContent={TooltipContent}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React, { useRef, useEffect, SyntheticEvent } from \"react\";\nimport { GridProps, Grid } from \"../grid/grid\";\nimport { CalendarProps, Calendar } from \"../calendar/calendar\";\nimport { TaskGanttContentProps, TaskGanttContent } from \"./task-gantt-content\";\nimport styles from \"./gantt.module.css\";\n\nexport type TaskGanttProps = {\n  gridProps: GridProps;\n  calendarProps: CalendarProps;\n  barProps: TaskGanttContentProps;\n  ganttHeight: number;\n  scrollY: number;\n  scrollX: number;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n};\nexport const TaskGantt: React.FC<TaskGanttProps> = ({\n  gridProps,\n  calendarProps,\n  barProps,\n  ganttHeight,\n  scrollY,\n  scrollX,\n  onScroll,\n}) => {\n  const ganttSVGRef = useRef<SVGSVGElement>(null);\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  const verticalContainerRef = useRef<HTMLDivElement>(null);\n  const newBarProps = { ...barProps, svg: ganttSVGRef };\n\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  useEffect(() => {\n    if (verticalContainerRef.current) {\n      verticalContainerRef.current.scrollLeft = scrollX;\n    }\n  }, [scrollX]);\n\n  return (\n    <div\n      className={styles.ganttVerticalContainer}\n      ref={verticalContainerRef}\n      onScroll={onScroll}\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={gridProps.gridWidth}\n        height={calendarProps.headerHeight}\n        fontFamily={barProps.fontFamily}\n      >\n        <Calendar {...calendarProps} />\n      </svg>\n      <div\n        ref={horizontalContainerRef}\n        className={styles.horizontalContainer}\n        style={\n          ganttHeight\n            ? { height: ganttHeight, width: gridProps.gridWidth }\n            : { width: gridProps.gridWidth }\n        }\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={gridProps.gridWidth}\n          height={barProps.rowHeight * barProps.tasks.length}\n          fontFamily={barProps.fontFamily}\n          ref={ganttSVGRef}\n        >\n          <Grid {...gridProps} />\n          <TaskGanttContent {...newBarProps} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, SyntheticEvent, useRef, useEffect } from \"react\";\nimport { ViewMode, GanttProps, Task } from \"../../types/public-types\";\nimport { GridProps } from \"../grid/grid\";\nimport { ganttDateRange, seedDates } from \"../../helpers/date-helper\";\nimport { CalendarProps } from \"../calendar/calendar\";\nimport { TaskGanttContentProps } from \"./task-gantt-content\";\nimport { TaskListHeaderDefault } from \"../task-list/task-list-header\";\nimport { TaskListTableDefault } from \"../task-list/task-list-table\";\nimport { StandardTooltipContent } from \"../other/tooltip\";\nimport { Scroll } from \"../other/scroll\";\nimport { TaskListProps, TaskList } from \"../task-list/task-list\";\nimport styles from \"./gantt.module.css\";\nimport { TaskGantt } from \"./task-gantt\";\n\nexport const Gantt: React.SFC<GanttProps> = ({\n  tasks,\n  headerHeight = 50,\n  columnWidth = 60,\n  listCellWidth = \"155px\",\n  rowHeight = 50,\n  ganttHeight = 0,\n  viewMode = ViewMode.Day,\n  locale = \"en-GB\",\n  barFill = 60,\n  barCornerRadius = 3,\n  barProgressColor = \"#a3a3ff\",\n  barProgressSelectedColor = \"#8282f5\",\n  barBackgroundColor = \"#b8c2cc\",\n  barBackgroundSelectedColor = \"#aeb8c2\",\n  handleWidth = 8,\n  timeStep = 300000,\n  arrowColor = \"grey\",\n  fontFamily = \"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue\",\n  fontSize = \"14px\",\n  arrowIndent = 20,\n  todayColor = \"rgba(252, 248, 227, 0.5)\",\n  TooltipContent = StandardTooltipContent,\n  TaskListHeader = TaskListHeaderDefault,\n  TaskListTable = TaskListTableDefault,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onTaskDelete,\n  onSelect,\n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const [ganttTasks, setGanttTasks] = useState<Task[]>(tasks);\n  const [selectedTask, setSelectedTask] = useState<string>(\"\");\n  const [scrollY, setScrollY] = useState(0);\n  const [scrollX, setScrollX] = useState(0);\n  const [ignoreScrollEvent, setIgnoreScrollEvent] = useState(false);\n  const [startDate, endDate] = ganttDateRange(ganttTasks, viewMode);\n  const dates = seedDates(startDate, endDate, viewMode);\n\n  const svgHeight = rowHeight * ganttTasks.length;\n  const gridWidth = dates.length * columnWidth;\n  const ganttFullHeight = ganttTasks.length * rowHeight;\n\n  useEffect(() => {\n    setGanttTasks(tasks);\n  }, [tasks]);\n\n  // scroll events\n  useEffect(() => {\n    const handleWheel = (event: WheelEvent) => {\n      event.preventDefault();\n      const newScrollY = scrollY + event.deltaY;\n      if (newScrollY < 0) {\n        setScrollY(0);\n      } else if (newScrollY > ganttFullHeight - ganttHeight) {\n        setScrollY(ganttFullHeight - ganttHeight);\n      } else {\n        setScrollY(newScrollY);\n      }\n      setIgnoreScrollEvent(true);\n    };\n\n    // subscribe if scroll is necessary\n    if (\n      wrapperRef.current &&\n      ganttHeight &&\n      ganttHeight < ganttTasks.length * rowHeight\n    ) {\n      wrapperRef.current.addEventListener(\"wheel\", handleWheel, {\n        passive: false,\n      });\n    }\n    return () => {\n      if (wrapperRef.current) {\n        wrapperRef.current.removeEventListener(\"wheel\", handleWheel);\n      }\n    };\n  }, [wrapperRef.current, scrollY, ganttHeight, ganttTasks, rowHeight]);\n\n  const handleScrollY = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollY !== event.currentTarget.scrollTop && !ignoreScrollEvent) {\n      setScrollY(event.currentTarget.scrollTop);\n    }\n    setIgnoreScrollEvent(false);\n  };\n\n  const handleScrollX = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollX !== event.currentTarget.scrollLeft && !ignoreScrollEvent) {\n      setScrollX(event.currentTarget.scrollLeft);\n    }\n    setIgnoreScrollEvent(false);\n  };\n\n  /**\n   * Handles arrow keys events and transform it to new scroll\n   */\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    let newScrollY = scrollY;\n    let newScrollX = scrollX;\n    let isX = true;\n    switch (event.key) {\n      case \"Down\": // IE/Edge specific value\n      case \"ArrowDown\":\n        newScrollY += rowHeight;\n        isX = false;\n        break;\n      case \"Up\": // IE/Edge specific value\n      case \"ArrowUp\":\n        newScrollY -= rowHeight;\n        isX = false;\n        break;\n      case \"Left\":\n      case \"ArrowLeft\":\n        newScrollX -= columnWidth;\n        break;\n      case \"Right\": // IE/Edge specific value\n      case \"ArrowRight\":\n        newScrollX += columnWidth;\n        break;\n    }\n    if (isX) {\n      if (newScrollX < 0) {\n        setScrollX(0);\n      } else if (newScrollX > gridWidth) {\n        setScrollX(gridWidth);\n      } else {\n        setScrollX(newScrollX);\n      }\n    } else {\n      if (newScrollY < 0) {\n        setScrollY(0);\n      } else if (newScrollY > ganttFullHeight - ganttHeight) {\n        setScrollY(ganttFullHeight - ganttHeight);\n      } else {\n        setScrollY(newScrollY);\n      }\n    }\n    setIgnoreScrollEvent(true);\n  };\n\n  // task change event\n  const handleTasksChange = (tasks: Task[]) => {\n    setGanttTasks(tasks);\n  };\n\n  /**\n   * Task select event\n   */\n  const handleSelectedTask = (taskId: string) => {\n    const newSelectedTask = ganttTasks.find(t => t.id === taskId);\n    if (newSelectedTask) {\n      if (onSelect) {\n        const oldSelectedTask = ganttTasks.find(t => t.id === selectedTask);\n        if (oldSelectedTask) {\n          onSelect(oldSelectedTask, false);\n        }\n        onSelect(newSelectedTask, true);\n      }\n      setSelectedTask(newSelectedTask.id);\n    } else {\n      if (onSelect) {\n        const oldSelectedTask = ganttTasks.find(t => t.id === selectedTask);\n        if (oldSelectedTask) {\n          onSelect(oldSelectedTask, false);\n        }\n      }\n      setSelectedTask(\"\");\n    }\n  };\n\n  const gridProps: GridProps = {\n    columnWidth,\n    gridWidth,\n    tasks: ganttTasks,\n    rowHeight,\n    dates,\n    todayColor,\n  };\n  const calendarProps: CalendarProps = {\n    dates,\n    locale,\n    viewMode,\n    headerHeight,\n    columnWidth,\n    fontFamily,\n    fontSize,\n  };\n  const barProps: TaskGanttContentProps = {\n    tasks: ganttTasks,\n    selectedTask,\n    setSelectedTask: handleSelectedTask,\n    rowHeight,\n    barCornerRadius,\n    columnWidth,\n    dates,\n    barFill,\n    barProgressColor,\n    barProgressSelectedColor,\n    barBackgroundColor,\n    barBackgroundSelectedColor,\n    handleWidth,\n    arrowColor,\n    timeStep,\n    fontFamily,\n    fontSize,\n    arrowIndent,\n    svgHeight,\n    onTasksChange: handleTasksChange,\n    onDateChange,\n    onProgressChange,\n    onDoubleClick,\n    onTaskDelete,\n    TooltipContent,\n  };\n\n  const tableProps: TaskListProps = {\n    rowHeight,\n    rowWidth: listCellWidth,\n    fontFamily,\n    fontSize,\n    tasks: ganttTasks,\n    locale,\n    headerHeight,\n    scrollY,\n    ganttHeight,\n    horizontalContainerClass: styles.horizontalContainer,\n    selectedTaskId: selectedTask,\n    setSelectedTask: handleSelectedTask,\n    TaskListHeader,\n    TaskListTable,\n  };\n\n  return (\n    <div\n      className={styles.wrapper}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      ref={wrapperRef}\n    >\n      {listCellWidth && <TaskList {...tableProps} />}\n      <TaskGantt\n        gridProps={gridProps}\n        calendarProps={calendarProps}\n        barProps={barProps}\n        ganttHeight={ganttHeight}\n        scrollY={scrollY}\n        scrollX={scrollX}\n        onScroll={handleScrollX}\n      />\n      <Scroll\n        ganttFullHeight={ganttFullHeight}\n        ganttHeight={ganttHeight}\n        headerHeight={headerHeight}\n        scroll={scrollY}\n        onScroll={handleScrollY}\n      />\n    </div>\n  );\n};\n"],"names":["ViewMode","addToDate","date","quantity","scale","newDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","startOfDate","scores","shouldReset","_scale","maxScore","indexOf","ganttDateRange","tasks","viewMode","newStartDate","start","newEndDate","end","task","Month","Week","getMonday","seedDates","startDate","endDate","currentDate","dates","Day","HalfDay","QuarterDay","push","getLocaleMonth","locale","bottomValue","Intl","DateTimeFormat","month","format","replace","toLocaleUpperCase","day","getDay","diff","setDate","getWeekNumberISO8601","tmpDate","valueOf","dayNumber","firstThursday","setMonth","weekNumber","Math","ceil","toString","length","TaskListHeaderDefault","headerHeight","fontFamily","fontSize","rowWidth","React","className","styles","ganttTable","style","ganttTable_Header","height","ganttTable_HeaderItem","minWidth","ganttTable_HeaderSeparator","marginTop","TaskListTableDefault","rowHeight","dateTimeOptions","weekday","year","taskListWrapper","map","t","taskListTableRow","key","id","taskListCell","maxWidth","title","name","toLocaleDateString","Tooltip","x","svgHeight","TooltipContent","tooltipRef","useRef","useState","toolWidth","setToolWidth","index","relatedY","setRelatedY","useEffect","current","tooltipHeight","offsetHeight","tooltipY","scrollWidth","y","width","ref","tooltipDetailsContainer","StandardTooltipContent","tooltipDefaultContainer","tooltipDefaultContainerParagraph","getTime","progress","Scroll","scroll","ganttHeight","ganttFullHeight","onScroll","scrollRef","scrollTop","TaskList","scrollY","selectedTaskId","setSelectedTask","horizontalContainerClass","TaskListHeader","TaskListTable","horizontalContainerRef","headerProps","tableProps","GridBody","gridWidth","columnWidth","todayColor","gridRows","rowLines","y1","x2","y2","gridRowLine","gridRow","now","tickX","ticks","today","i","x1","gridTick","fill","Grid","props","TopPartOfCalendar","value","x1Line","y1Line","y2Line","xText","yText","calendarTopTick","calendarTopText","Calendar","getCalendarValuesForMonth","topValues","bottomValues","topDefaultWidth","topDefaultHeight","calendarBottomText","topValue","getCalendarValuesForWeek","weeksCount","getCalendarValuesForDay","getCalendarValuesForOther","hour","calendarHeader","convertToBarTasks","barFill","barCornerRadius","handleWidth","barProgressColor","barProgressSelectedColor","barBackgroundColor","barBackgroundSelectedColor","dateDelta","getTimezoneOffset","taskHeight","barTasks","convertToBarTask","dependencies","j","dependence","findIndex","barChildren","taskXCoordinate","taskYCoordinate","backgroundColor","backgroundSelectedColor","progressColor","progressSelectedColor","xDate","round","progressWithByParams","taskX1","taskX2","progressByX","barWidth","progressPercent","getProgressPoint","progressX","taskY","point","join","startByX","xStep","steps","additionalXValue","newX","endByX","moveByX","newX1","newX2","dateByX","taskX","taskDate","timeStep","handleTaskBySVGMouseEvent","svgX","action","selectedTask","initEventX1Delta","changedTask","isChanged","newMoveX1","newMoveX2","BarDisplay","isSelected","progressWidth","text","hasChild","arrowIndent","onMouseDown","textRef","isTextInside","setIsTextInside","getBBox","getProcessColor","getBarColor","getX","ry","rx","barBackground","barLabel","barLabelOutside","BarDateHandle","barHandle","BarProgressHandle","progressPoint","points","Bar","isProgressChangeable","isDateChangeable","onEventStart","isDelete","barWrapper","tabIndex","onKeyDown","e","stopPropagation","onMouseEnter","onMouseLeave","onDoubleClick","onFocus","Arrow","taskFrom","taskTo","indexCompare","taskToEndPosition","path","trianglePoints","strokeWidth","d","isKeyboardEvent","event","undefined","TaskGanttContent","svg","arrowColor","onTasksChange","onDateChange","onProgressChange","onTaskDelete","createSVGPoint","barEvent","setBarEvent","setBarTasks","failedTask","setFailedTask","setXStep","setInitEventX1Delta","isMoving","setIsMoving","newXStep","newTasks","handleMouseMove","preventDefault","clientX","cursor","matrixTransform","getScreenCTM","inverse","handleMouseUp","operationSuccess","originalTask","isNotLikeOriginal","removeEventListener","result","addEventListener","handleBarEventStart","filter","error","console","stroke","child","isDisabled","TaskGantt","gridProps","calendarProps","barProps","scrollX","ganttSVGRef","verticalContainerRef","newBarProps","scrollLeft","ganttVerticalContainer","xmlns","horizontalContainer","Gantt","listCellWidth","onSelect","wrapperRef","ganttTasks","setGanttTasks","setScrollY","setScrollX","ignoreScrollEvent","setIgnoreScrollEvent","handleWheel","newScrollY","deltaY","passive","handleScrollY","currentTarget","handleScrollX","handleKeyDown","newScrollX","isX","handleTasksChange","handleSelectedTask","taskId","newSelectedTask","find","oldSelectedTask","wrapper"],"mappings":"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"}